assume cs:codesg

data segment
	db '1975','1976','1977','1978','1979','1980','1981','1982','1983'
	db '1984','1985','1986','1987','1988','1989','1990','1991','1992'
	db '1993','1994','1995'
	; 21 strings that represent 21 years
	
	dd 16,22,382,1356,2390,8000,16000,24486,50065,97479,140417,197514
	dd 345980,590827,803530,1183000,1843000,2759000,3753000,4649000,5937000
	; 21 dword data that represents total income of Power Idea for 21 years
	
	dw 3,7,9,13,28,38,130,220,476,778,1001,1442,2258,2793,4037,5635,8226
	dw 11542,14430,15257,17800
	; numbers of employees for 21 years
	
	;-d0B28:0 ff
	;0B28:0000  31 39 37 35 31 39 37 36-31 39 37 37 31 39 37 38   1975197619771978
	;0B28:0010  31 39 37 39 31 39 38 30-31 39 38 31 31 39 38 32   1979198019811982
	;0B28:0020  31 39 38 33 31 39 38 34-31 39 38 35 31 39 38 36   1983198419851986
	;0B28:0030  31 39 38 37 31 39 38 38-31 39 38 39 31 39 39 30   1987198819891990
	;0B28:0040  31 39 39 31 31 39 39 32-31 39 39 33 31 39 39 34   1991199219931994
	;0B28:0050  31 39 39 35 10 00 00 00-16 00 00 00 7E 01 00 00   1995........~...
	;0B28:0060  4C 05 00 00 56 09 00 00-40 1F 00 00 80 3E 00 00   L...V...@....>..
	;0B28:0070  A6 5F 00 00 91 C3 00 00-C7 7C 01 00 81 24 02 00   ._.......|...$..
	;0B28:0080  8A 03 03 00 7C 47 05 00-EB 03 09 00 CA 42 0C 00   ....|G.......B..
	;0B28:0090  18 0D 12 00 38 1F 1C 00-58 19 2A 00 28 44 39 00   ....8...X.*.(D9.
	;0B28:00A0  28 F0 46 00 68 97 5A 00-03 00 07 00 09 00 0D 00   (.F.h.Z.........
	;0B28:00B0  1C 00 26 00 82 00 DC 00-DC 01 0A 03 E9 03 A2 05   ..&.............
	;0B28:00C0  D2 08 E9 0A C5 0F 03 16-22 20 16 2D 5E 38 99 3B   ........" .-^8.;
	;0B28:00D0  88 45 00 00 00 00 00 00-00 00 00 00 00 00 00 00   .E..............
	;0B28:00E0  79 65 61 72 20 73 75 6D-6D 20 6E 65 20 3F 3F 20   year summ ne ??
	;0B28:00F0  79 65 61 72 20 73 75 6D-6D 20 6E 65 20 3F 3F 20   year summ ne ??
data ends

table segment
	db 21 dup ('year summ ne ?? ')
table ends

stack segment
	db 16 dup (0)
stack ends

codesg segment
start:	mov ax,data
		mov ds,ax
		mov ax,stack	; stack start
		mov ss,ax
		mov bp,00E0H	; table start
		
		mov bx,0
		mov si,0
		mov cx,21
		
		; year
s:		push cx
		mov cx,2
		mov di,0
s_year:	mov ax,[bx+si]
		mov ds:[bp+di],ax
		add si,2
		add di,2
		loop s_year
		add bp,16
		pop cx
		loop s
		
		; profit
		mov si,0
		mov bx,0054H
		mov bp,00E5H
		mov cx,21
s1:		push cx
		mov di,0
		mov cx,2
s_sum:	mov ax,[bx+si]
		mov ds:[bp+di],ax
		add si,2
		add di,2
		loop s_sum
		add bp,16
		pop cx
		loop s1
		
		; number of employees
		mov si,0
		mov bx,00A8H
		mov bp,00EAH
		mov cx,21
s2:		mov ax,[bx+si]
		mov ds:[bp],ax
		add si,2
		add bp,16
		loop s2
		
		; average profit per employee
		mov bx,00E5H ; summ
		mov bp,00EAH ; ne
		mov si,0
		mov cx,21
s3:		mov ax,[bx+si]
		mov dx,[bx+si+2]
		div word ptr ds:[bp+si]
		mov [bx+si+8],ax
		add si,16
		loop s3
		
		mov ax,4c00H
		int 21H
codesg ends

end start

; ===== Result =====
0B28:00E0  31 39 37 35 20 10 00 00-00 20 03 00 20 05 00 20   1975 .... .. ..
0B28:00F0  31 39 37 36 20 16 00 00-00 20 07 00 20 03 00 20   1976 .... .. ..
0B28:0100  31 39 37 37 20 7E 01 00-00 20 09 00 20 2A 00 20   1977 ~... .. *.
0B28:0110  31 39 37 38 20 4C 05 00-00 20 0D 00 20 68 00 20   1978 L... .. h.
0B28:0120  31 39 37 39 20 56 09 00-00 20 1C 00 20 55 00 20   1979 V... .. U.
0B28:0130  31 39 38 30 20 40 1F 00-00 20 26 00 20 D2 00 20   1980 @... &. ..
0B28:0140  31 39 38 31 20 80 3E 00-00 20 82 00 20 7B 00 20   1981 .>.. .. {.
0B28:0150  31 39 38 32 20 A6 5F 00-00 20 DC 00 20 6F 00 20   1982 ._.. .. o.
0B28:0160  31 39 38 33 20 91 C3 00-00 20 DC 01 20 69 00 20   1983 .... .. i.
0B28:0170  31 39 38 34 20 C7 7C 01-00 20 0A 03 20 7D 00 20   1984 .|.. .. }.
0B28:0180  31 39 38 35 20 81 24 02-00 20 E9 03 20 8C 00 20   1985 .$.. .. ..
0B28:0190  31 39 38 36 20 8A 03 03-00 20 A2 05 20 88 00 20   1986 .... .. ..
0B28:01A0  31 39 38 37 20 7C 47 05-00 20 D2 08 20 99 00 20   1987 |G.. .. ..
0B28:01B0  31 39 38 38 20 EB 03 09-00 20 E9 0A 20 D3 00 20   1988 .... .. ..
0B28:01C0  31 39 38 39 20 CA 42 0C-00 20 C5 0F 20 C7 00 20   1989 .B.. .. ..
0B28:01D0  31 39 39 30 20 18 0D 12-00 20 03 16 20 D1 00 20   1990 .... .. ..
0B28:01E0  31 39 39 31 20 38 1F 1C-00 20 22 20 20 E0 00 20   1991 8... "  ..
0B28:01F0  31 39 39 32 20 58 19 2A-00 20 16 2D 20 EF 00 20   1992 X.*. .- ..
0B28:0200  31 39 39 33 20 28 44 39-00 20 5E 38 20 04 01 20   1993 (D9. ^8 ..
0B28:0210  31 39 39 34 20 28 F0 46-00 20 99 3B 20 30 01 20   1994 (.F. .; 0.
0B28:0220  31 39 39 35 20 68 97 5A-00 20 88 45 20 4D 01 20   1995 h.Z. .E M.